# Helm Multiline Example




### Releasing

```shell script
helm package . -d manifests && replicated release create --auto
```

### Testing / reviewing the results

```shell script
for file in tls.crt tls.crt.b64 tls.crt.b64_2; do
echo
echo '=============='
echo helm $file
echo '==========='
k get secret -n helm-multiline helm-b64-files  -o json | jq ".data[\"$file\"]" -r | base64 --decode
done
for file in tls.crt tls.crt.b64; do
echo
echo '=============='
echo nonhelm $file
echo '==========='
k get secret -n helm-multiline non-helm-b64-files  -o json | jq ".data[\"$file\"]" -r | base64 --decode
done
```


You should see something like the below.

- `helm tls.crt` - newlines stripped
- `helm tls.crt.b64` - newlines preserved
- `helm tls.crt.b64_2` - newlines preserved
- `nonhelm tls.crt` - newlines preserved
- `nonhelm tls.crt.b64` - newlines preserved

```

==============
helm tls.crt
===========
-----BEGIN CERTIFICATE----- MIIDJzCCAg8MA0GCSqGSIb3DQEBCwUAMFAx DzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvdWRPcHMgQ2x1c3RlcjEVMBMG A1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJVUzAeFw0yMjA2MjAxNzA0MjBa Fw0yNTA2MTkxNzA0MjBaMFAxDzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xv dWRPcHMgQ2x1c3RlcjEVMBMGA1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJV UzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NO9olXRcmW6KVQ+ BTanVjadm0/pRDBzPfpwMJmbJMl59lE7bz1jEzKxHQi72NhgDEHuEQezTaovITZU AENeJn9cGYHzSno+/SSHhAfwJkoVDcOZ4N1wuuJMqk p8WQ8+Va7uSCSy3Tx2uOMgXlIoQ6h1P21/Ccc8/xH2nsl3h5QG q1qy9INmlQq5inKUGk5PQ9B/vedx29rp7a69xFlEW9+9P4yn APuzERdV6zZgAv7cEHV8t6TVT6XzrgqV6f6rIL8QH HRUCAwEAATANBgkqcR20m+bJf7sRM+SP+ZL4Tndmum/j g0d1YUaeB3WQedGTRpfy9Y0IDV4ZfObZCGw4VSV rgxjcmSKjxZ3PPXCzWN2Euhyf6KLE5eAfWB1UZfM6oKAnNj0Wgjt3OyQYwQpyzki BalAWlCZcYhQ97RqQzLfQL+q2QuXVhgGR3kZBtvnzCvn ep9tanvMb95O8u+R8El47/+XvHtZPfxLRRvdHOVoy2u3VDZB0cbd2qwk5BucFfjz +SL8m+LSZr1FTkVIGVO2eDX/vyVZgu5dDA8qNu5snmPMFWlgiAacBYUo3g== -----END CERTIFICATE-----

==============
helm tls.crt.b64
===========
-----BEGIN CERTIFICATE-----
MIIDJzCCAgMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvMA0GCSqGSIb3DQEBCwUAMFAx
DzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvdWRPcHMgQ2x1c3RlcjEVMBMG
A1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJVUzAeFw0yMjA2MjAxNzA0MjBa
Fw0yNTA2MTkxNzA0MjBaMFAxDzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xv
dWRPcHMgQ2x1c3RlcjEVMBMGA1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJV
UzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NO9olXRcmW6KVQ+
BTanVjadm0/pRDBzPfpwMJmbJMl59lE7bz1jEzKxHQi72NhgDEHuEQezTaovITZU
AENeJn9cGYHzSno+/SSHhAfLRoOJqJCDy0PFi/2r/7/02wJkoVDcOZ4N1wuuJMqk
BTanVjadm0/pRDBzPfpwhAfLRoOJqJCDy01jEzKxHQi72NhgDEHuEQezTaovITZU
AENeJn9cGYHzSno+/SSHhAfLRoOJqJCDy0PFi/2r/7/02wJkoVDcOZ4N1wuuJMqk
p8WQ8+Va7uSCSy3Gk5PQ9B/vedx29rp7a01jEzKxHQi72NhgCcc8/xH2nsl3h5QG
q1qy9INmlQ+ZYsBt+kICLUdUvfq5inKUGk5PQ9B/vedx29rp7a69xFlEW9+9P4yn
APuzRUkSCJoHMJsIETOlsWpCHeiERAOCAQEAcR20m+bJf7sRMM+rgqV6f6rIL8QH
HRUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAcR20m+bJf7sRM+SP+ZL4Tndmum/j
g0d1YUaeB3WQed3FDfjLgvB0SzeliZTCtYs4VjzGTRpfy9Y0IDV4ZfObZCGw4VSV
rgxjcmSKjxZ3PPXCzWN2Euhyf6KLE5eAfWB1UZfM6oKAnNj0Wgjt3OyQYwQpyzki
BalAWlCmoUKvdNj3Ms/pRXIgkDGZcYhQ97RqQzLfQL+q2QuXVhgGR3kZBtvnzCvn
-----END CERTIFICATE-----

==============
helm tls.crt.b64_2
===========
-----BEGIN CERTIFICATE-----
MIIDJzCCAgMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvMA0GCSqGSIb3DQEBCwUAMFAx
DzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvdWRPcHMgQ2x1c3RlcjEVMBMG
A1UECgwMS2luZXRpYyBEYXRQYDVQQGEwJVUzrPihIhG5TvN//jA2MjAxNzA0MjBa
Fw0yNTA2MTkxNzA0MjBaMFAxDzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xv
dWRPcHMgQ2x1c3RlcjEVMBMGA1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJV
UzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NO9olXRcmW6KVQ+
BTanVjadm0/pRDBzPfpwhAfLRoOJqJCDy01jEzKxHQi72NhgDEHuEQezTaovITZU
AENeJn9cGYHzSno+/SSHhAfLRoOJqJCDy0PFi/2r/7/02wJkoVDcOZ4N1wuuJMqk
p8WQ8+Va7uSCSy3Gk5PQ9B/vedx29rp7a01jEzKxHQi72NhgCcc8/xH2nsl3h5QG
q1qy9INmlQ+ZYsBt+kICLUdUvfq5inKUGk5PQ9B/vedx29rp7a69xFlEW9+9P4yn
APuzRUkSCJoHMJsIETOlsWpCHeiERAOCAQEAcR20m+bJf7sRMM+rgqV6f6rIL8QH
HRUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAcR20m+bJf7sRM+SP+ZL4Tndmum/j
g0d1YUaeB3WQed3FDfjLgvB0SzeliZTCtYs4VjzGTRpfy9Y0IDV4ZfObZCGw4VSV
rgxjcmSKjxZ3PPXCzWN2Euhyf6KLE5eAfWB1UZfM6oKAnNj0Wgjt3OyQYwQpyzki
BalAWlCmoUKvdNj3Ms/pRXIgkDGZcYhQ97RqQzLfQL+q2QuXVhgGR3kZBtvnzCvn
ep9tanvMb95O8u+R8El47/+XvHtZPfxLRRvdHOVoy2u3VDZB0cbd2qwk5BucFfjz
+SL8m+LSZr1FTkVIGVO2eDX/vyVZgu5dDA8qNu5snmPMFWlgiAacBYUo3g==
-----END CERTIFICATE-----

==============
nonhelm tls.crt
===========
-----BEGIN CERTIFICATE-----
MIIDJzCCAgMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvMA0GCSqGSIb3DQEBCwUAMFAx
DzANBgNVBAMMBnJvb3RDYTEZMUzAeFw0yMjABcGA1UECwwQQ2xx1c3RlcjEVMBMG
A1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJVUzAeFw0yMjA2MjAxNzA0MjBa
Fw0yNTA2QYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NOcGA1UECwwQQ2xv
dWRPcHMgQ2x1c3RlcjEVMBMGA1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJV
UzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NO9olXRcmW6KVQ+
BTanVjadm0/pRDBzPfpwMJmbJMl59lE7bz1jEzKxHQi72NhgDEHuEQezTaovITZU
AENeJn9cGYHzSno+/SSHhAfLRoOJqJCDy0PFi/2r/7/02wJkoVDcOZ4N1wuuJMqk
p8WQ8+Va7uSCSy3Tx2uOMgXlIoQ6h1P21rVrPihIhG5TvN//Ccc8/xH2nsl3h5QG
q1qy9INmlQ+ZYsBt+kICLUdUvfq5inKUGk5PQ9B/vedx29rp7a69xFlEW9+9P4yn
APuzRUkSCJoHMJsIETOlsWIgkDGZcYhQ97RqQzLfQL+q2QuZgAzrgqV6f6rIL8QH
HRUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAcR20m+bJf7sRM+SP+ZL4Tndmum/j
g0d1YUaeB3WQed3FDfjLgvIgkDGZcYhQ97RqQzLfQL+q2Qu9Y0V4ZfObZCGw4VSV
rgxjcmSKjxZ3PPXCzWN2Euhyf6KLE5eAfWB1UZfM6oKAnNj0Wgjt3OyQYwQpyzki
BalAWlCmoUKvdNj3Ms/pRXIgkDGZcYhQ97RqQzLfQL+q2QuXVhgGR3kZBtvnzCvn
ep9tanvMb95O8u+R8El47/+XvHtZPfxLRRvdHOVoy2u3VDZB0cbd2qwk5BucFfjz
+SL8m+LSZr1FTkVIGVO2eDX/vyVZgu5dDA8qNu5snmPMFWlgiAacBYUo3g==
-----END CERTIFICATE-----

==============
nonhelm tls.crt.b64
===========
-----BEGIN CERTIFICATE-----
MIIDJzCCAgMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvMA0GCSqGSIb3DQEBCwUAMFAx
DzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xvdWRPcHMgQ2x1c3RlcjEVMBMG
A1UECgwMS2luZXRpYyBEYXRhMQswCQOCAQEAcR20m++bJfJf7jA2MjAxNzA0MjBa
Fw0yNTA2MTkxNzA0MjBaMFAxDzANBgNVBAMMBnJvb3RDYTEZMBcGA1UECwwQQ2xv
dWRPcHMgQ2x1c3RlcjEVMBMGA1UECgwMS2luZXRpYyBEYXRhMQswCQYDVQQGEwJV
UzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANeq1NO9olXRcmW6KVQ+
BTanVjadm0/pRfjdslkfjdlskjfsldfsdlfjsdklfjls2NhgDEHuEQezTaovITZU
AENeJn9cGYHzSno+/SSHhAfLRoOJqJCDy0PFi/2r/7/02wJkoVDcOZ4N1wuuJMqk
p8WQ8+Va7uSCSy3Tx2uOMgXlIoQ6h1P21rVrPihIhG5TvN//Ccc8/xH2nsl3h5QG
q1qy9INmlQ+ZYsBt+kICLUdUvfq5inKUGk5PQ9B/vedx29rp7a69xFlEW9+9P4yn
APuzRUkS7uSCSy3Tx2uOMgXlIoQ6h1P21rVrPihIhG5TvNTVT6XzrgqV6f6rIL8QH
HRUCAwEAATANBgkqhkiG9w0BAQsFAAOCAQEAcR20m+bJf7sRM+SP+ZL4Tndmum/j
g0d1YUaeB3WQed3FDfjLgvB0SzeliZTCtYs4VjzGTRpfy9Y0IDV4ZfObZCGw4VSV
rgxjcmSKjxZ3PPXCzWN2Euhyf6KLE5eAfWB1UZfM6oKAnNj0Wgjt3OyQYwQpyzki
BalAWlCmoUKvdNj3Ms/pRXIgkDGZcYhQ97RqQzLfQL+q2QuXVhgGR3kZBtvnzCvn
ep9tanvMb95O8u+R8El47/+XvHtZPfxLRRvdHOVoy2u3VDZB0cbd2qwk5BucFfjz
+SL8m+LSZr1FTkVIGVO2eDX/vyVZgu5dDA8qNu5snmPMFWlgiAacBYUo3g==
-----END CERTIFICATE-----
```